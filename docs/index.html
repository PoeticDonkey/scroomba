<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 507 Project - Scroomba: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 507 Project - Scroomba
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
   <div id="projectbrief">The purpose of this project is to create a scary, autonomous robot that can track people.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ME 507 Project - Scroomba Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="s_intro"></a>
Introduction</h1>
<p>This main page describes an ME507 project - The Scroomba.</p>
<p>The Scroomba is a "scary roomba", an autonomous robot that is designed to scare and chase people in the spirit of Halloween. It utilizes a thermal camera to detect and track a heat signature (from a person or otherwise), then charges them using tracks powered by two DC motors. Once the robot makes <em>light</em> contact with the "target" through a limit switch, the robot then reverses until hitting a wall and resets, taking another set of calibration data and waiting for another "target". A picture of the Scroomba robot is shown in Figure 1.</p>
<div class="image">
<img src="Scroomba.JPG" alt=""/>
</div>
<p> Figure 1. Scroomba System</p>
<p>This project utilizes an STM32L476RG processor on a Nucleo-64 prototyping board. VSCode is used to program the module, using PlatformIO and the Arduino environment.</p>
<p>The GitHub repository for this project can be found at: <a href="https://github.com/PoeticDonkey/scroomba">https://github.com/PoeticDonkey/scroomba</a></p>
<h1><a class="anchor" id="sec_thermCamTask"></a>
Task - Thermal Camera</h1>
<p>The purpose of the Thermal Camera task is to initialize the thermal camera and to constantly refresh the 8 x 8 temperature array outputted by the thermal camera breakout board (and processed through the AMG88xx Sensor library). This float [64] array of temperature values is then placed into the thermal data queue for the thermal data decoder task. This task is contained in <a class="el" href="thermal__cam_8cpp.html">thermal_cam.cpp</a>.</p>
<h1><a class="anchor" id="sec_thermDecoder"></a>
Task - Thermal Data Decoder</h1>
<p>The purpose of the Thermal Data Decoder Task is to take the data received from the thermal camera task and process it to both detect if a person is seen and if they are, to send what direction the person is relative to the current orientation of the robot. The robot is able to detect a person by first getting a calibrated state of environment temperature values to compare against new temperature acquisitons; if the temperature delta of a array segment is higher than a threshold, the task sends an alert flag with the direction of the person. This task is contained in <a class="el" href="thermal__decoder_8cpp.html">thermal_decoder.cpp</a>.</p>
<h1><a class="anchor" id="sec_motor"></a>
Task - Motor Driver</h1>
<p>The purpose of the Motor Driver task is to take the direction and duty cycle received from the mastermind task and set the in pins for motor A and motor B accordingly, designating a pin for each motor to PWM depending on the direction configuration. This task is contained in <a class="el" href="motor_8cpp.html">motor.cpp</a>.</p>
<h1><a class="anchor" id="sec_master"></a>
Task - Mastermind</h1>
<p>The purpose of the Mastermind task is to handle the state of the entire robot, taking in the information given from the thermal and limit switch sensors to determine what state the robot should go to next. There are several states that mastermind can be in; these states are: initialization, reset, waiting/hunting, and reversing. The waiting/hunting state is dependent on the data transmitted from the thermal decoder task, where when no person is detected, the robot will wait. Once a person is detected, Scroomba will turn into "hunt" mode, where the data from the thermal decoder will direct mastermind to what motor direction and power to send to the motor driver task. In the reverse state, after Scroomba has made contact with the person it is chasing (front limit switch flag is triggered), it will start to back up until the rear limit switch sends a flag when it contacts a surface behind it. Once this happens, Scroomba goes to the reset state to wait for its next target. This task is contained in <a class="el" href="main_8cpp.html">main.cpp</a>.</p>
<h1><a class="anchor" id="sec_limback"></a>
Task - Back Limit Switch</h1>
<p>This simple task initializes the pin used to read the rear limit switch(es) and monitors if they are triggered (reads HIGH). If so, this task sends the information to mastermind to handle. This task is contained in <a class="el" href="limit__switch__back_8cpp.html">limit_switch_back.cpp</a>.</p>
<h1><a class="anchor" id="sec_limfront"></a>
Task - Front Limit Switch</h1>
<p>This simple task initializes the pin used to read the front limit switch(es) and monitors if they are triggered (reads HIGH). If so, this task sends the information to mastermind to handle. This task is contained in <a class="el" href="limit__switch__front_8cpp.html">limit_switch_front.cpp</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
